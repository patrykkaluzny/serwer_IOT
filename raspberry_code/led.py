from sense_hat import SenseHat
import sys
import json

jsonText=sys.argv[1]
#jsonText='{"colorList":["255;0;128;","255;0;128;","255;0;128;","0;255;0;","255;0;128;","0;0;0;","0;0;0;","255;0;128;","255;0;128;","255;128;0;","255;128;0;","255;0;128;","0;0;0;","255;0;128;","0;0;0;","255;0;128;","255;0;128;","255;0;128;","0;255;0;","255;0;128;","255;128;0;","255;128;0;","255;0;128;","255;128;0;","255;0;128;","255;0;128;","255;128;0;","255;0;128;","0;255;0;","255;0;128;","0;0;0;","255;0;128;","0;0;0;","0;255;0;","0;0;0;","255;0;128;","0;255;0;","255;128;0;","255;128;0;","0;0;0;","0;255;0;","255;128;0;","255;0;128;","255;0;128;","0;0;0;","255;0;128;","0;255;0;","255;0;128;","0;255;0;","255;0;128;","255;0;128;","255;128;0;","255;0;128;","255;0;128;","0;255;0;","0;0;0;","255;0;128;","0;255;0;","255;0;128;","255;0;128;","0;0;0;","0;255;0;","255;0;128;","255;0;128;"]}'
#jsonText='{"colorList":["34;69;100;"]}'
jsonObj = json.loads(jsonText)

sense = SenseHat()

dataList=jsonObj['colorList']
if len(dataList)==1:
    rgb=dataList[0].split(';');
    for i in range(8):
	    for j in range(8):
	        sense.set_pixel(i, j, (int(rgb[0]), int(rgb[1]), int(rgb[2])))
    
else:
    counter=0;
    for i in range(8):
	    for j in range(8):
	        rgb=dataList[counter].split(';');
	        sense.set_pixel(j, i, (int(rgb[0]), int(rgb[1]), int(rgb[2])))
	        counter+=1
